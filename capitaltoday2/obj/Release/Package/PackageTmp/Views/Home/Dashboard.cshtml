@using capitaltoday2.CloudStorage.Acquisition;
@using capitaltoday2.CloudStorage.Refinance;

@{
    RefinanceClient tableStorage = new RefinanceClient();
    AcquisitionClient tableStorageAcquisition = new AcquisitionClient();
    ViewBag.Title = "Dashboard";
}


<div id="dashboardContainer">
    <div id="userDashboard" class="container">
        <h2>User Dashboard</h2>
        <h3>Refinance Accounts</h3>
        @{
            List<Refinance> refinanceAccounts = tableStorage.RetriveAllForPartition("Refinance", new Refinance());
            if (refinanceAccounts != null && refinanceAccounts.Count != 0)
            {
                foreach (Refinance refinanceAccount in refinanceAccounts)
                {
                    <div class="record flexDiv">
                        <div class="column">
                            <div>Name: @refinanceAccount.Name</div>
                            <div>Mobile phone: @refinanceAccount.Phone</div>
                            <div>Email: @refinanceAccount.Email</div>
                        </div>

                        <div class="column">
                            <div>Current Market Value: @refinanceAccount.MarketValue</div>
                            <div>Current Loan Balance: @refinanceAccount.LoanBalance</div>
                            <div>Property Type: @refinanceAccount.PropertyType</div>
                            @if (@refinanceAccount.UnitNumber != null)
                            {
                                <div>Number of units: @refinanceAccount.UnitNumber</div>
                            }
                            @if (refinanceAccount.OtherDescription != null)
                            {
                                <div>Other description: @refinanceAccount.OtherDescription</div>
                            }
                            <div>Property State: @refinanceAccount.PropertyState</div>                            
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="emptyRecord record flexDiv">
                    No records yet
                </div>
            }


        }

        <h3>Acquisition accounts</h3>

        @{
            List<Acquisition> acquisitionAccounts = tableStorageAcquisition.RetriveAllForPartition("Acquisition", new Acquisition());
            if (acquisitionAccounts != null && acquisitionAccounts.Count != 0)
            {
                foreach (Acquisition acquisitionAccount in acquisitionAccounts)
                {
                    <div class="record flexDiv">
                        <div class="column">
                            <div>Name: @acquisitionAccount.Name</div>
                            <div>Mobile phone: @acquisitionAccount.Phone</div>
                            <div>Email: @acquisitionAccount.Email</div>
                        </div>

                        <div class="column">
                            <div>Purchase Price: @acquisitionAccount.PurchasePrice</div>
                            <div>Requested Loan Amount: @acquisitionAccount.RequestedLoanAmount</div>
                            <div>Property Type: @acquisitionAccount.PropertyType</div>
                            @if (@acquisitionAccount.UnitNumber != null){
                                <div>Number of units: @acquisitionAccount.UnitNumber</div>
                            }                          
                            @if (acquisitionAccount.OtherDescription != null){
                                <div>Other description: @acquisitionAccount.OtherDescription</div>
                            }
                            
                            <div>Property State: @acquisitionAccount.PropertyState</div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="emptyRecord record flexDiv">
                    No records yet
                </div>
            }


        }

        @*<div class="record flexDiv">
                <div class="column">
                    <div>First name:</div>
                    <div>Last name:</div>
                    <div>Mobile phone:</div>
                    <div>Email:</div>
                    <div># of students that will be participating:</div>
                    <div>Child grade level:</div>
                    <div>Preference in terms:</div>
                </div>
                <div class="column">
                    <div>Aptitude Testing:</div>
                    <div>Career Exploration:</div>
                    <div>Career Road Map Development:</div>
                    <div>Student Achievements Archive:</div>
                    <div>College Selection Optimizer:</div>
                    <div>College Admission Important Date Scheduler:</div>
                    <div>Career Advancement Rewards Program:</div>
                    <div>Habit builder:</div>
                </div>
            </div>*@


    </div>

</div>